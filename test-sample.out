-- selection option: user inputs location and time, time series trend in the given time and location will be generated
SELECT international, property_damage, nwound, nkill
FROM Incident, Location
WHERE datetime <= '1970-07-02' AND 
datetime >= '1970-03-24' AND 
country = 'Dominican Republic';
 international | property_damage | nwound | nkill 
---------------+-----------------+--------+-------
             0 |               0 |      0 |     1
             1 |               0 |      0 |     0
(2 rows)

-- selection option: user inputs date and location, attack type pie chart will be generated
CREATE VIEW AttackType AS 
SELECT BelongedTo.attack_type, COUNT(*) AS count
FROM Incident, Location, BelongedTo
WHERE Incident.id = BelongedTo.incident_id AND 
datetime <= '1970-07-02' AND 
datetime >= '1970-03-24' AND 
country = 'Dominican Republic' 
GROUP BY BelongedTo.attack_type;
CREATE VIEW
CREATE VIEW Total AS
SELECT SUM(count) as total
FROM AttackType;
CREATE VIEW
SELECT attack_type, count/Total AS perc
FROM AttackType, Total;
         attack_type         |          perc          
-----------------------------+------------------------
 Assassination               | 0.50000000000000000000
 Hostage Taking (Kidnapping) | 0.50000000000000000000
(2 rows)

